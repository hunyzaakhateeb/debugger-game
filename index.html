<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>Error Finder</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link rel="stylesheet" href="style.css" />
  <script src="script.js" defer></script>
</head>

<body>
  <div class="app">
    <header class="header">
      <h1>ERROR-FINDER</h1>
      <p class="tag">
        Find the bug in each code snippet before the timer runs out.
      </p>
    </header>

    <main>
      <section id="startScreen" class="screen">
        <div class="terminal-card big">
          <div style="padding: 0px;" class="terminal-top">
            <div class="dots">
              <span class="dot red"></span>
              <span class="dot yellow"></span>
              <span class="dot green"></span>
            </div>
            <div class="title">/error-finder/start</div>
          </div>

          <div class="terminal-body">
            <div style="margin: 0cm;" class="code-area" id="welcomeText">
              <p style="text-align: center; font-size: 20px; margin: 0px;">404 : Find the Bug</p>
              <h3>How to Play:</h3>
              <ul style="line-height: 0.8; margin-top: 0px;">
                <li>You'll see a short code snippet with a single bug.</li>
                <li>Select the type of bug from the options.</li>
                <li>Faster answers earn more points; 3 wrong hits (or skips) and it's Game Over.</li>
                <li>Controls: click an option to choose, Enter to submit.</li>
              </ul>
            </div>
            <br />
            <br />
            <div style="font-size: 16px;">
              - Enter a name to track your scores.
            </div>
            <br>

            <div class="controls-row">
              <label style="font-size:16px; color:#39ff14;" class="shortcut">
                Name:
                <input type="text" id="playerName" placeholder="Player" autocomplete="off" />
              </label>
            </div>

            <div class="controls-row">
              <label style="font-size:16px; color:#39ff14;" class="shortcut">
                Language:
                <select id="languageSelect"
                  style="margin-left: 10px; padding: 5px; background: #050606; color: #39ff14; border: 1px solid #39ff14; font-family: monospace;">
                  <option value="javascript">JavaScript</option>
                  <option value="python">Python</option>
                  <option value="java">Java</option>
                  <option value="c">C</option>
                </select>
              </label>
            </div>

            <div class="controls-row">
              <button id="startBtn" class="btn primary">
                Start Game
              </button>
              <button id="viewScoresBtn" class="btn">
                View High Scores
              </button>
            </div>
          </div>
        </div>
      </section>

      <section id="gameScreen" class="screen hidden">

        <div class="hud">
          <div>
            <div>Lives: <span id="livesDisplay"></span></div>
            <div>Score: <span id="scoreDisplay">0</span></div>
          </div>

          <div>
            <div>Language: <span id="languageDisplay">JavaScript</span></div>
            <div>Round: <span id="roundDisplay">1 / 8</span></div>
          </div>

          <div>
            <div>Highscore: <span id="highscoreDisplay">0</span></div>
          </div>

          <div class="timer-wrap">
            <div class="timer-bar" id="timerBar"></div>
            <div class="timer-text" id="timerText">0s</div>
          </div>
        </div>

        <div class="terminal-card big">
          <div class="terminal-top">
            <div class="dots">
              <span class="dot red"></span>
              <span class="dot yellow"></span>
              <span class="dot green"></span>
            </div>
            <div class="title">/error-finder/game</div>
          </div>

          <div class="terminal-body">
            <pre class="code-area" id="codeArea"></pre>

            <div class="options" id="optionsContainer"></div>

            <div class="controls-row">
              <button id="submitBtn" class="btn primary">
                Submit (Enter)
              </button>
              <button id="skipBtn" class="btn">
                Skip (-1 life)
              </button>
              <button id="quitBtn" class="btn danger">
                Quit
              </button>
            </div>

            <div id="feedback" class="feedback"></div>

            <p class="shortcut">
              Shortcuts: 1–4 to select option, Enter to submit, Esc to quit.
            </p>
          </div>
        </div>
      </section>

      <section id="scoreScreen" class="screen hidden">
        <div class="terminal-card big scoreboard-screen">
          <div class="terminal-top">
            <div class="dots">
              <span class="dot red"></span>
              <span class="dot yellow"></span>
              <span class="dot green"></span>
            </div>
            <div class="title">/error-finder/scores</div>
          </div>

          <div class="terminal-body">
            <div style="padding: 0px;" class="code-area">
              Your score: <span id="finalScoreDisplay"></span>

              The list below shows your best runs on this device.

              High Scores:
            </div>

            <div id="scoreList"></div>

            <div class="controls-row">
              <button id="playAgainBtn" class="btn primary">
                Play Again
              </button>
              <button id="backToStartBtn" class="btn">
                Back to Start
              </button>
              <button id="clearScoresBtn" class="btn danger">
                Clear Scores
              </button>
            </div>
          </div>
        </div>
      </section>
    </main>

    <footer class="footer">
      <span class="shortcut">
        • ERROR-FINDER •
      </span>
    </footer>
  </div>



  <style>
    body {
      margin: 0;
      overflow: hidden;
      background: black;
      font-family: monospace;
    }

    canvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
    }

    .content {
      position: relative;
      color: white;
      text-align: center;
      margin-top: 50px;
      font-size: 40px;
      letter-spacing: 2px;
    }
  </style>

  <canvas id="binaryCanvas"></canvas>

  <script>
    const canvas = document.getElementById("binaryCanvas");
    const ctx = canvas.getContext("2d");

    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    const letters = "01";
    const fontSize = 18;
    const columns = canvas.width / fontSize;
    const drops = Array(Math.floor(columns)).fill(1);

    function draw() {
      ctx.fillStyle = "rgba(0, 0, 0, 0.08)";
      ctx.fillRect(0, 0, canvas.width, canvas.height);

      ctx.fillStyle = "#00ff00";
      ctx.font = fontSize + "px monospace";

      drops.forEach((y, i) => {
        const text = letters[Math.floor(Math.random() * letters.length)];
        ctx.fillText(text, i * fontSize, y * fontSize);

        if (y * fontSize > canvas.height && Math.random() > 0.975) drops[i] = 0;
        drops[i]++;
      });
    }
    setInterval(draw, 40);

    window.addEventListener("resize", () => {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    });
  </script>
</body>

</html>